<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta name="theme-color" content="#3498db"><meta name="viewport" content="width=device-width,initial-scale=1"><title>excalidraw</title><meta property="og:title" content="excalidraw"><meta property="og:type" content="article"><meta property="og:url" content="https://github.com/yonezo/deck/excalidraw"><link href="vendor.7.37e59db1cba2d3a1273d.css" rel="stylesheet"><link href="main.4.e7d6875c0948cb9fbbff.css" rel="stylesheet"></head><body><div id="root"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="btn-sidebar" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg><article id="webslides"><section class="aligncenter"><h1>Excalidraw</h1></section><section class="aligncenter"><div class="toc size-70 aligncenter"><ol><li><a href="#slide=3" title="What is Excalidraw?"><span class="chapter">What is Excalidraw?</span><span class="toc-page">3</span></a></li><li><a href="#slide=6" title="Structure"><span class="chapter">Structure</span><span class="toc-page">6</span></a></li><li><a href="#slide=11" title="Code Reading"><span class="chapter">Code Reading</span><span class="toc-page">11</span></a></li></ol></div></section><section class="aligncenter section-title"><h2>Excalidraw とは</h2><img src="6b19714268567c7f66cdf51d567313d1.webp" class="logo"><p><a href="https://excalidraw.com/">https://excalidraw.com/</a></p></section><section class="aligncenter"><p>手書きのように見えるダイアグラムを作成できるツール</p><br><p><a href="https://gyazo.com/87b4cdffd13e98c1840c4106d3aff424"><img src="https://i.gyazo.com/87b4cdffd13e98c1840c4106d3aff424.gif" alt="Image from Gyazo"></a></p></section><section class="aligncenter"><p>Christopher Chedeau さんが 2020/1/1 から作り始めた</p><br><p><a href="https://twitter.com/Vjeux/status/1212503324982792193">codesandbox でプロトタイプを作ったときの Tweet</a></p><p><a href="https://github.com/excalidraw/excalidraw/commit/ec23829fce40fdc0897c966405d265c3e9883f72">Initial commit</a></p></section><section class="aligncenter section-title"><h2>Structure</h2></section><section class="aligncenter"><h2>Repositories</h2><ul><li>excalidraw</li><li>excalidraw-json</li><li>excalidraw-room</li></ul></section><section class="aligncenter"><h2>excalidraw</h2><p>フロントエンド</p><br><ul><li>React</li><li>TypeScript</li><li>Socket.IO</li><li>Firebase</li><li>Rough.js</li></ul></section><section class="aligncenter"><h2>excalidraw-json</h2><p>バックエンド(永続化するための機能を提供)</p><br><ul><li>Python</li><li>Google App Engine</li></ul></section><section class="aligncenter"><h2>excalidraw-room</h2><p>バックエンド(共同編集するための機能を提供)</p><br><ul><li>Express</li><li>TypeScript</li><li>Socket.IO</li></ul></section><section class="aligncenter section-title"><h2>Code Reading</h2></section><section class="aligncenter"><p>機能単位で読む方法や、コードが実行される順番で読み進める方法などがありますが、今回は後者の方法で進める。</p><br><p>※本当に初歩的な解説になると思いますが、今後他人が書いたコードを読み解くための良い練習になると思うので、お付き合いください。</p></section><section class="aligncenter"><h2>Commands</h2><p><a href="https://github.com/excalidraw/excalidraw#commands">https://github.com/excalidraw/excalidraw#commands</a></p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>npm install</code></td><td>Install the dependencies</td></tr><tr><td><code>npm start</code></td><td>Run the project</td></tr><tr><td><code>npm run fix</code></td><td>Reformat all files with Prettier</td></tr><tr><td><code>npm test</code></td><td>Run tests</td></tr><tr><td><code>npm run test:update</code></td><td>Update test snapshots</td></tr><tr><td><code>npm run test:code</code></td><td>Test for formatting with Prettier</td></tr></tbody></table></section><section class="aligncenter"><h2>npm scripts</h2><br><p><a href="https://github.com/excalidraw/excalidraw/blob/master/package.json">https://github.com/excalidraw/excalidraw/blob/master/package.json</a></p><pre><code class="language-json">{
  &quot;scripts&quot;: {
    &quot;build-node&quot;: &quot;node ./scripts/build-node.js&quot;,
    &quot;build:app:docker&quot;: &quot;REACT_APP_DISABLE_SENTRY=true react-scripts build&quot;,
    &quot;build:app&quot;: &quot;REACT_APP_GIT_SHA=$NOW_GITHUB_COMMIT_SHA react-scripts build&quot;,
    &quot;build:version&quot;: &quot;node ./scripts/build-version.js&quot;,
    &quot;build&quot;: &quot;npm run build:app &amp;&amp; npm run build:version&quot;,
    &quot;eject&quot;: &quot;react-scripts eject&quot;,
    &quot;fix:code&quot;: &quot;npm run test:code -- --fix&quot;,
    &quot;fix:other&quot;: &quot;npm run prettier -- --write&quot;,
    &quot;fix&quot;: &quot;npm run fix:other &amp;&amp; npm run fix:code&quot;,
    &quot;locales-coverage&quot;: &quot;node scripts/build-locales-coverage.js&quot;,
    &quot;locales-coverage:description&quot;: &quot;node scripts/locales-coverage-description.js&quot;,
    &quot;prettier&quot;: &quot;prettier \&quot;**/*.{css,scss,json,md,html,yml}\&quot; --ignore-path=.eslintignore&quot;,
    &quot;start&quot;: &quot;react-scripts start&quot;,
    &quot;test:all&quot;: &quot;npm run test:typecheck &amp;&amp; npm run test:code &amp;&amp; npm run test:other &amp;&amp; npm run test:app -- --watchAll=false&quot;,
    &quot;test:app&quot;: &quot;react-scripts test --passWithNoTests&quot;,
    &quot;test:code&quot;: &quot;eslint --max-warnings=0 --ignore-path .gitignore --ext .js,.ts,.tsx .&quot;,
    &quot;test:debug&quot;: &quot;react-scripts --inspect-brk test --runInBand --no-cache&quot;,
    &quot;test:other&quot;: &quot;npm run prettier -- --list-different&quot;,
    &quot;test:typecheck&quot;: &quot;tsc&quot;,
    &quot;test:update&quot;: &quot;npm run test:app -- --updateSnapshot --watchAll=false&quot;,
    &quot;test&quot;: &quot;npm run test:app&quot;
  }
}
</code></pre></section><section class="aligncenter"><h2>react-scripts start</h2><p><a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/package.json">https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/package.json</a></p><br><pre><code class="language-json">{
  &quot;bin&quot;: {
    &quot;react-scripts&quot;: &quot;./bin/react-scripts.js&quot;
  }
}
</code></pre></section><section class="aligncenter"><h2>react-scripts.js</h2><p><a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/bin/react-scripts.js">https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/bin/react-scripts.js</a></p></section><section class="aligncenter"><h2>start.js</h2><p><a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/scripts/start.js#L117-L160">https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/scripts/start.js#L117-L160</a></p></section><section class="aligncenter"><h2>webpack.config.js</h2><p><a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/config/webpack.config.js">https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/config/webpack.config.js</a></p></section><section class="aligncenter"><h2>paths.js</h2><p><a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/config/paths.js#L89">https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/config/paths.js#L89</a></p></section><section class="aligncenter"><h2>index.tsx</h2><p><a href="https://github.com/excalidraw/excalidraw/blob/master/src/index.tsx">https://github.com/excalidraw/excalidraw/blob/master/src/index.tsx</a></p></section><section class="aligncenter"><h2>まとめ</h2><ul><li>基本的には index.js や index.ts などから読み進めれば問題ない</li><li>npm scripts や webpack の設定によっては、実行される順序が変わる</li><li>React のコードだからといって、安易に App.tsx などから読み出さないように。index でいつもと違う処理が入っている場合があるため</li></ul></section></article></div><script type="text/javascript" src="runtime.742f18342d639a8436e8.bundle.js"></script><script type="text/javascript" src="vendor.7.37e59db1cba2d3a1273d.bundle.js"></script><script type="text/javascript" src="main.4.e7d6875c0948cb9fbbff.bundle.js"></script></body></html>